@model ListInfo
@{
    ViewBag.Title = "List Users";

    int startPage = Model.CurrentPage - 2;

    if (startPage < 1) 
    {
        startPage = 1;
    }
    else if (startPage > Model.TotalPages - 4) 
    {
        startPage = Model.TotalPages - 4;
    }
}

<div class="d-flex">
    <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" 
                type="button" 
                id="buttonPageSize" 
                data-bs-toggle="dropdown"
                aria-haspopup="true" 
                aria-expanded="false">
            Page Size (@Model.PageSize)
        </button>
        <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="~/List/@Model.Field/10/1">10</a></li>
            <li><a class="dropdown-item" href="~/List/@Model.Field/15/1">15</a></li>
            <li><a class="dropdown-item" href="~/List/@Model.Field/20/1">20</a></li>
            <li><a class="dropdown-item" href="~/List/@Model.Field/30/1">30</a></li>
            <li><a class="dropdown-item" href="~/List/@Model.Field/50/1">50</a></li>
        </ul>
    </div>
    <ul class="pagination ms-2">
        <li class="page-item">
            <a class="page-link" 
            href="~/List/@Model.Field/@Model.PageSize/@(Model.CurrentPage == 1 ? 1 : Model.CurrentPage - 1)">
                &laquo;
            </a>
        </li>
        <li class="page-item"><a class="page-link" href="~/List/@Model.Field/@Model.PageSize/@(startPage)">@startPage</a></li>
        <li class="page-item"><a class="page-link" href="~/List/@Model.Field/@Model.PageSize/@(startPage + 1)">@(startPage + 1)</a></li>
        <li class="page-item"><a class="page-link" href="~/List/@Model.Field/@Model.PageSize/@(startPage + 2)">@(startPage + 2)</a></li>
        <li class="page-item"><a class="page-link" href="~/List/@Model.Field/@Model.PageSize/@(startPage + 3)">@(startPage + 3)</a></li>
        <li class="page-item"><a class="page-link" href="~/List/@Model.Field/@Model.PageSize/@(startPage + 4)">@(startPage + 4)</a></li>
        <li class="page-item"><a class="page-link" href="~/List/@Model.Field/@Model.PageSize/@(Model.CurrentPage == Model.TotalPages ? Model.TotalPages : Model.CurrentPage + 1)">&raquo;</a></li>
    </ul>
</div>

<table class="table table-striped">
    <thead>
        <tr>
            <th><a href="~/List/Name/@Model.PageSize/1">User Name</a></th>
            <th><a href="~/List/Phone/@Model.PageSize/1">Phone</a></th>
            <th><a href="~/List/Email/@Model.PageSize/1">E-Mail</a></th>
            <th><a href="~/List/Address/@Model.PageSize/1">Address</a></th>
        </tr>
    </thead>
    <tbody>
    @foreach (User user in Model.Users)
    {
        <tr>
            <td>@user.LastName, @user.FirstName</td>
            <td>@user.Phone</td>
            <td>@user.EMail</td>
            <td>@user.Street, @user.City, @user.RegionCode &nbsp;@user.PostalCode</td>
        </tr>
    }
    </tbody>
</table>
